<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bullseye2D - Demos</title>
    <script defer src="main.dart.js"></script>
    <style>
    :root{--bg-gradient-start:#23272a;--bg-gradient-end:#1e2124;--text-color:#dcddde;--heading-color:#ffffff;--link-color:#7289da;--link-hover-bg:#7289da;--link-hover-text:#ffffff;--separator-color:#606770;--canvas-border-color:#40444b;--font-family-main:"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--font-family-headings:"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif}*,*::after,*::before{box-sizing:border-box}html{height:100%}body{margin:0;padding:5px 5px 40px;font-family:var(--font-family-main);font-weight:400;background-color:var(--bg-gradient-end);background-image:linear-gradient( 135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100% );background-repeat:no-repeat;background-attachment:fixed;color:var(--text-color);line-height:1.6;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh}.container{width:100%;max-width:800px;text-align:center;padding:30px 35px;background-color:transparent;border-radius:12px}h1{color:var(--heading-color);font-family:var(--font-family-headings);font-size:2.8em;margin-top:0;margin-bottom:0.7em;font-weight:700}nav ul{list-style-type:none;padding:0;margin:25px 0 35px;display:flex;justify-content:center;align-items:center;flex-wrap:wrap}nav li{margin:5px 0}nav li a{text-decoration:none;color:var(--link-color);font-size:1.1em;font-weight:500;padding:6px 10px;border-radius:5px;transition:background-color 0.2s ease, color 0.2s ease, transform 0.15s ease;display:inline-block}nav li a:focus,nav li a:hover{background-color:var(--link-hover-bg);color:var(--link-hover-text);transform:translateY(-2px);outline:none}nav li a.active{background-color:var(--link-hover-bg);color:var(--link-hover-text)}nav li:not(:last-child)::after{content:"â€¢";color:var(--separator-color);margin:0 10px;font-size:0.9em;pointer-events:none}.canvas-wrapper{position:relative;width:100%;max-width:640px;margin:20px auto 0;padding-bottom:50px}#gameCanvas{display:block;width:100%;aspect-ratio:16 / 9;border:1px solid var(--canvas-border-color);border-radius:8px}#sourceCodeLink{position:absolute;right:0;margin-top:7px;text-decoration:none;color:var(--link-color);background-color:var(--bg-gradient-start);padding:2px 4px;border-radius:6px;font-size:0.85em;font-weight:500;border:1px solid var(--canvas-border-color);box-shadow:0 2px 5px rgba(0, 0, 0, 0.2);display:inline-flex;align-items:center;transition:transform 0.2s cubic-bezier(0.25, 0.8, 0.25, 1), background-color 0.2s ease-out, color 0.2s ease-out, border-color 0.2s ease-out, box-shadow 0.2s cubic-bezier(0.25, 0.8, 0.25, 1)}#sourceCodeLink .code-icon{margin-right:7px;font-weight:normal;opacity:0.8;font-size:1.1em;line-height:1;transition:opacity 0.2s ease-out}#sourceCodeLink:focus,#sourceCodeLink:hover{color:var(--link-hover-text);background-color:var(--link-hover-bg);border-color:var(--link-hover-bg);transform:translateY(-3px) scale(1.03);box-shadow:0 4px 8px rgba(0, 0, 0, 0.25);outline:none}#sourceCodeLink:hover .code-icon{opacity:1}@media (max-width: 300px){#sourceCodeLink{display:none}}
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Bullseye2D - Demos</h1>

      <nav>
        <ul>
          <li><a href="?app=hello_world">Hello World</a></li>
          <li><a href="?app=sprites">Sprites</a></li>
          <li><a href="?app=music_player">Music Player</a></li>
          <li><a href="?app=input">Input Demo</a></li>
        </ul>
      </nav>

      <div class="canvas-wrapper">
        <canvas id="gameCanvas" tabindex="1" width="1280" height="720"></canvas>
        <a id="sourceCodeLink" href="#" target="_blank">
          View source code
        </a>
      </div>

    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const params = new URLSearchParams(window.location.search);
        const currentApp = params.get("app") ?? 'hello_world';
        const navLinks = document.querySelectorAll("nav li a");
        const sourceCodeLink = document.getElementById("sourceCodeLink"); // Renamed variable for clarity
        const targetHref = "?app=" + currentApp;
        navLinks.forEach((link) => {
          if (link.getAttribute("href") === targetHref) {
            link.classList.add("active");
          }
        });

        const sourceBaseUrl = "https://github.com/bullseye2d/bullseye2d/blob/main/example/web/";
        const sourceUrl = `${sourceBaseUrl}${currentApp}/${currentApp}.dart`;
        
        sourceCodeLink.href = sourceUrl;
      });
    </script>
  </body>
</html>
